<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[mzyy94: command not found]]></title>
  <link href="http://mzyy94.com/atom.xml" rel="self"/>
  <link href="http://mzyy94.com/"/>
  <updated>2013-12-11T14:39:35+09:00</updated>
  <id>http://mzyy94.com/</id>
  <author>
    <name><![CDATA[mzyy94]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[NAS4FreeでTime Machineの設定するメモ]]></title>
    <link href="http://mzyy94.com/blog/2013/12/10/timemachine-with-nas4free/"/>
    <updated>2013-12-10T12:58:47+09:00</updated>
    <id>http://mzyy94.com/blog/2013/12/10/timemachine-with-nas4free</id>
    <content type="html"><![CDATA[<p>Mavericksの登場で手元のMacBook Airをクリーンインストールしました。
その際、バックアップから復元するような手段は取らず、必要なデータのみを移して環境を再構築しました。
というのも、いままではTime Machineでバックアップを取っていなかったがために復元する手段がなかったのです。</p>

<p>次のバージョンでもクリーンインストールする予定ではありますが、突然のデータ消失に備えてTime Machineでの定期バックアップをするようにしました。</p>

<p>Time Machineのバックアップ先としては主に利用されるのは外付けドライブやTime Capsuleなどいろいろなバックアップ先があります。
しかし、MacBook Airをポータブル端末として利用している身としては、バックアップのたびにケーブルを抜き差しするのは効率を落とすだけでなく、バックアップ中は移動ができなくなってしまうため、候補から外しました。</p>

<p>ケーブルレスでTime Machineの機能を使う方法としては、無線LAN経由でネットワークストレージにバックアップする方法に限られてきてしまいます。
Time Machineのバックアップ用ネットワークストレージとして、Appleからは<a href="http://store.apple.com/jp/product/ME177/airmac-time-capsule-2tb">AirMac Time Capsule</a>なるものが発売されていますが、これが如何せんお高い。
主な機能としてのTime MachineのバックアップとIEEE802.11ac対応無線LANルータの２つを備えた2TBのもので29,800円するという。
もっと多機能で安価なものを自分で構成したいという欲が湧いてきました。</p>

<!-- more -->


<p>前置きが長くなりましたが、ここからが本題です。
NASを建ててTime Machineのバックアップ先にするというお仕事になります。</p>

<p>まず、NASを立てるところから始めます。既成品のNASはいじりがいがいがないので却下しました。
<strong>たまたま</strong>自宅にAcer Aspire H340なるサーバー用のマシンが転がっていたのでこれを流用します。
ストレージには<a href="http://www.amazon.co.jp/gp/product/B009QWUF6M/ref=as_li_qf_sp_asin_tl?ie=UTF8&amp;camp=247&amp;creative=1211&amp;creativeASIN=B009QWUF6M&amp;linkCode=as2&amp;tag=mzyy940f-22">WD Green 3.5inch 2.0TB</a>を利用します。</p>

<p>ハードウェアが準備出来たら次はソフトウェアです。NAS向けのOSはいくつか存在しています。</p>

<ul>
<li><a href="http://freenas.org/">FreeNAS</a></li>
<li><a href="http://www.nas4free.org/">NAS4Free</a></li>
<li><a href="http://openmediavault.org/">OpenMediaVault</a></li>
<li><a href="http://www.openfiler.com/">Openfiler</a></li>
<li><a href="http://cryptonas.org/">CryptoNAS</a></li>
</ul>


<p>どれも得意な機能を持っており、その特徴と利用したい機能が一致したものを利用すればいいのですが、今回用意したH340のマシンは256MBのオンボードフラッシュストレージを搭載しているので、その256MBに収まるものに限定することにしました。
今回リストアップしたなかでは、NAS4Freeが機能的にもよく、256MBにも収まるものでしたのでこれを選択しました。</p>

<h2>NAS4Freeのインストール</h2>

<p>ダウンロードしたx8664のイメージをCDに焼き、ブートして起動してEmbeddedインストールするだけです。
このEmbeddedインストールではイメージファイルを書き込むもので、256MBに収まる用にできています。
FreeNASも同じくEmbededインストールをサポートしていますが、2GBの容量が必要とのことですので断念しました。</p>

<h2>起動</h2>

<p>ネットワークの設定をして起動し、<a href="http://nas4free.local">nas4free.local</a>にアクセスします。</p>

<h2>設定</h2>

<h3>ディスクの設定</h3>

<p>NAS4Freeが起動したら</p>

<ol>
<li>Disk->Managementでディクスをオンラインにし、</li>
<li>Disk->Formatでフォーマットした後に、</li>
<li>Disk->Mount pointでマウントします。</li>
</ol>


<p>フォーマット形式はUFSにしました。
以前、FreeNAS用にZFSで作った際にpoolを破壊してしまってデータが吹っ飛んだ経験があるため、ZFSは避けましたが、
メモリが潤沢に搭載されているシステムであればraidzを利用してもいいかと思います。</p>

<div class="widget-container widget-gallery boxed">
    <div class="inner">
        <div id="myCarousel" class="carousel slide" data-interval="20000">
        <!-- Carousel items -->
        <div class="carousel-inner">
        <div class="item active">
            <a href="http://mzyy94.com/blog/resources/images/2013/12/10/NAS4Free-1.png" class="prettyPhoto" data-rel="prettyPhoto" title="">
            <img src="http://mzyy94.com/blog/resources/images/2013/12/10/NAS4Free-1.png" alt="" />
            </a>
        </div>
        <div class="item">
            <a href="http://mzyy94.com/blog/resources/images/2013/12/10/NAS4Free-2.png" class="prettyPhoto" data-rel="prettyPhoto" title="">
            <img src="http://mzyy94.com/blog/resources/images/2013/12/10/NAS4Free-2.png" alt="" />
            </a>
        </div>
        <div class="item">
            <a href="http://mzyy94.com/blog/resources/images/2013/12/10/NAS4Free-3.png" class="prettyPhoto" data-rel="prettyPhoto" title="">
            <img src="http://mzyy94.com/blog/resources/images/2013/12/10/NAS4Free-3.png" alt="" />
            </a>
        </div>
        </div>

        <div class="carousel-controls">
        <!-- Carousel indicators -->
        <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
        </ol>
        <!-- Carousel nav -->
        <a class="carousel-control left" href="#myCarousel" data-slide="prev"></a>
        <a class="carousel-control right" href="#myCarousel" data-slide="next"></a>
        </div>
        </div>
    </div>
</div>


<h3>AFPの設定</h3>

<p>Services->AFPにて、</p>

<ol>
<li>SettingsタブをEnableにし、 Enable local user authentication. にチェックしてサービスを開始し、</li>
<li>Shareタブで、</li>
</ol>


<hr />

<ul>
<li>Name: 適当な名前</li>
<li>Comment: 適当なコメント</li>
<li>Path: 先ほどマウントしたマウントポイント以下の任意のパス</li>
<li>Share Character Set: UTF8</li>
<li>Allow: timecapsule</li>
<li>Read/Write Access: timecapsule</li>
<li>Automatic disk discovery: Enable</li>
<li>Automatic disk discovery mode: Time Machine</li>
</ul>


<hr />

<p>と、設定します。ほかはデフォルトのままにしました。</p>

<div class="widget-container widget-gallery boxed">
    <div class="inner">
        <div id="myCarousel1" class="carousel slide" data-interval="20000">
        <!-- Carousel items -->
        <div class="carousel-inner">
        <div class="item active">
            <a href="http://mzyy94.com/blog/resources/images/2013/12/10/NAS4Free-4.png" class="prettyPhoto" data-rel="prettyPhoto" title="">
            <img src="http://mzyy94.com/blog/resources/images/2013/12/10/NAS4Free-4.png" alt="" />
            </a>
        </div>
        <div class="item">
            <a href="http://mzyy94.com/blog/resources/images/2013/12/10/NAS4Free-5.png" class="prettyPhoto" data-rel="prettyPhoto" title="">
            <img src="http://mzyy94.com/blog/resources/images/2013/12/10/NAS4Free-5.png" alt="" />
            </a>
        </div>
        <div class="item">
            <a href="http://mzyy94.com/blog/resources/images/2013/12/10/NAS4Free-6.png" class="prettyPhoto" data-rel="prettyPhoto" title="">
            <img src="http://mzyy94.com/blog/resources/images/2013/12/10/NAS4Free-6.png" alt="" />
            </a>
        </div>
        </div>

        <div class="carousel-controls">
        <!-- Carousel indicators -->
        <ol class="carousel-indicators">
            <li data-target="#myCarousel1" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel1" data-slide-to="1"></li>
            <li data-target="#myCarousel1" data-slide-to="2"></li>
        </ol>
        <!-- Carousel nav -->
        <a class="carousel-control left" href="#myCarousel1" data-slide="prev"></a>
        <a class="carousel-control right" href="#myCarousel1" data-slide="next"></a>
        </div>
        </div>
    </div>
</div>


<p>この設定で、同一ネットワークにつながったMacからTime Machineの設定を開くと以下のように、バックアップ先に設定できるようになっていると思います。</p>

<figure>
<img src="http://mzyy94.com/blog/resources/images/2013/12/10/NAS4Free-7.png" alt="blog html sourcecode" />
<figcaption class="boxed-green">Time Machineの設定画面</figcaption>
</figure>


<p>設定方法と、NASの紹介でした。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[blogを建ててみた]]></title>
    <link href="http://mzyy94.com/blog/2013/12/07/create-new-blog/"/>
    <updated>2013-12-07T18:22:11+09:00</updated>
    <id>http://mzyy94.com/blog/2013/12/07/create-new-blog</id>
    <content type="html"><![CDATA[<p>いままで情報を発信する場として、確かなものが周りになかったので新年に向けて新しくブログを作成しました。
よろしくお願いします。</p>

<p>今回はサイトのホスティングとして、Github pagesを用いることにしました。Github pagesでブログを制作する方法に関しては、
<a href="http://morizyun.github.io/blog/octopress-gitpage-minimum-install-guide/" title="OctopressでGitHub無料ブログ構築。sourceをBitbucket管理。簡単ガイド！ - 酒と泪とRubyとRailsと">こちら</a>とかで確認して下さい。</p>

<p>ブログのスタイリングのために、今回はBootstrapをベースに構成しました。BootstrapはOOCSSを謳っているものの、
オブジェクト指向特有のごちゃごちゃしたプロパティ名が好みではなかったので利用を控えていました。
ではなぜBootstrapを選んだかというと、単純にスタイルテンプレートがBootstrap向けだったためです。</p>

<!-- more -->


<p>サイトデザインを模索しているときに出会ったとても気に入ったテーマがありました。<a href="http://pixelkit.com/" title="Premium Web UI Kits &amp; Design Resources | PixelKit">PixelKit</a>で公開されている<a href="http://pixelkit.com/kits/flat-ui-kit" title="Flat UI Kit | Modern Touch">Modern Touch</a>というものです。
最近の流行であるフラットデザインをシンプルな配色で実装し、中途半端さが無く、とても清潔感あふれている点に惹かれました。
しかしここで気になったのがデザインの配布形式です。</p>

<p>過去から現在にかけてWeb UIデザインは各所で提案され公開されてきていますが、公開形式として大半を占めているのがPSD形式のものです。
HTML5やCSS3が主要となりつつある現代WebデザインにおいてはUIに多くの画像を用いることはあまり好まれません。
汎用性が高いという理由でしょうが、Web UIやUIデザインが提供されている形式はPSD形式ばかりです。
そんなサイトがたくさんある中、少数派であるHTML5とCSS3を用いてサイトデザインを提供公開しているサイトにもれず、<a href="http://pixelkit.com/" title="Premium Web UI Kits &amp; Design Resources | PixelKit">Pixelkit</a>もHTML5/CSS3でデザインを提供していたのです。</p>

<p>このサイトにあるデザインはすべてが無料で提供されているわけではありません。公開されているデザインをすべて利用するには年間Subscriptionが必要です。
しかし、今回使用したテーマのModern touchを始め、いくつかのデザインは<a href="https://github.com/Pixelkit/PixelKit-Bootstrap-UI-Kits">GitHubにて公開</a>されています。ライセンスは<a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons — Attribution 3.0 Unported — CC BY 3.0">CC BY 3.0</a>と<a href="http://opensource.org/licenses/mit-license.html" title="The MIT License (MIT) | Open Source Initiative">MIT</a>です。</p>

<p>「せっかくよいデザインを見つけたのだから使いたい」と思ったので使うことにしました。
サイトデザインのために、好みでなかったTwitter Bootstrapを利用しはじめ、Octopressのテーマをいじっていきました。
時々出力されたサイトのソースをみるとこんなかんじになっていました。</p>

<figure>
<img src="http://mzyy94.com/blog/resources/images/2013/12/07/blog-html-sourcecode.png" alt="blog html sourcecode" />
<figcaption class="boxed-green">blogのソースコード</figcaption>
</figure>


<p>OOCSSの影響でclassが溢れて可読性が下がると思っていましたが、この程度の組み方であればあまり影響はないようです。</p>

<p>GitHub pagesとOctopressによってブログを書き始めました。というお話でした。
まだまだ未熟者ですが今後とも宜しくお願いします。</p>
]]></content>
  </entry>
  
</feed>
